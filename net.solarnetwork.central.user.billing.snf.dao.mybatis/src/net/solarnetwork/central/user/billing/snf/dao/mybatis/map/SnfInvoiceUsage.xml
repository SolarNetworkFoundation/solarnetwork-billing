<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.solarnetwork.central.user.billing.snf.dao.mybatis.SnfInvoiceUsage">

	<sql id="fragment-NodeUsage-full-result">
		  invu.inv_id 			AS bill_invoice_node_usage_inv_id
		, invu.node_id 			AS bill_invoice_node_usage_node_id
		, invu.created 			AS bill_invoice_node_usage_created
		, invu.prop_count 		AS bill_invoice_node_usage_prop_count
		, invu.datum_q_count 	AS bill_invoice_node_usage_datum_q_count
		, invu.datum_s_count 	AS bill_invoice_node_usage_datum_s_count
	</sql>

	<resultMap id="NodeUsage-FullResult" type="net.solarnetwork.central.user.billing.snf.domain.NodeUsage">
		<constructor>
			<idArg column="bill_invoice_node_usage_node_id" javaType="Long"/>
			<arg column="bill_invoice_node_usage_created" javaType="java.time.Instant"/>
		</constructor>
		<result property="datumPropertiesIn" column="bill_invoice_node_usage_prop_count"/>
		<result property="datumOut" column="bill_invoice_node_usage_datum_q_count"/>
		<result property="datumDaysStored" column="bill_invoice_node_usage_datum_s_count"/>
	</resultMap>

</mapper>